<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Product — Jawhaa Sneakers</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header class="site-header">
    <div class="container">
      <h1 class="brand">Jawhaa Sneakers</h1>
      <nav class="nav"><a href="index.html">Home</a> <a href="products.html">Shop</a> <a href="cart.html">Cart</a></nav>
    </div>
  </header>

  <main class="container">
    <div id="product-detail" style="padding:24px 0"></div>
  </main>

  <footer class="site-footer"><div class="container">© 2025 Jawhaa Sneakers</div></footer>

  <script src="js/cart.js"></script>
  <script>
    // read id from query
    function qs(name){
      const params=new URLSearchParams(location.search);
      return params.get(name);
    }
    const id = qs('id');
    fetch('products.json').then(r=>r.json()).then(products=>{
      const p = products.find(x=>x.id===id);
      const target = document.getElementById('product-detail');
      if(!p){ target.innerHTML = '<p>Product not found.</p>'; return; }
      target.innerHTML = `
        <div style="display:flex;gap:20px;flex-wrap:wrap">
          <img src="${p.image}" alt="${p.name}" style="width:320px;height:320px;object-fit:cover;border-radius:8px">
          <div style="flex:1">
            <h2>${p.name}</h2>
            <p style="color:var(--muted)">${p.description}</p>
            <p class="price" style="font-weight:800;font-size:20px">$${p.price.toFixed(2)}</p>
            <div style="margin-top:12px">
              <button class="btn" id="add">Add to cart</button>
            </div>
          </div>
        </div>
      `;
      document.getElementById('add').addEventListener('click', ()=>{
        Cart.add({id:p.id, name:p.name, price:p.price, image:p.image});
        Cart.updateCount();
        alert('Added to cart');
      });
    });
  </script>
</body>
</html>
